<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <title>方位抽取器</title>
    <link rel="icon"
        href="https://bbs-static.miyoushe.com/static/2024/06/12/7982e4f54092be80c43a251f26e44235_6026540790739799944.png"
        type="image/png">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <script>
        (function () {
            try {
                var theme = localStorage.getItem('theme');
                if (theme === 'dark-mode') theme = 'dark'; // Migrate old value
                if (theme === 'light-mode') theme = 'light';
                if (!theme) theme = 'system';

                var effectiveTheme = theme;
                if (theme === 'system') {
                    effectiveTheme = (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light';
                }

                if (effectiveTheme === 'dark') {
                    document.body.classList.add('dark-mode');
                }
            } catch (e) { }
        })();
    </script>
    <div class="container">

        <button class="settings-icon-button" onclick="showSettingsModal()" title="设置" aria-label="设置"><svg class="icon"
                style="width: 1.05859375em;height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;"
                viewBox="0 0 1084 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1422">
                <path
                    d="M1072.147851 406.226367c-6.331285-33.456782-26.762037-55.073399-52.047135-55.073399-0.323417 0-0.651455 0.003081-0.830105 0.009241l-4.655674 0c-73.124722 0-132.618162-59.491899-132.618162-132.618162 0-23.731152 11.447443-50.336101 11.546009-50.565574 13.104573-29.498767 3.023185-65.672257-23.427755-84.127081l-1.601687-1.127342-134.400039-74.661726-1.700252-0.745401c-8.753836-3.805547-18.334698-5.735272-28.479231-5.735272-20.789593 0-41.235746 8.344174-54.683758 22.306575-14.741683 15.216028-65.622973 58.649474-104.721083 58.649474-39.450789 0-90.633935-44.286652-105.438762-59.784516-13.518857-14.247316-34.128258-22.753199-55.127302-22.753199-9.945862 0-19.354234 1.861961-27.958682 5.531982l-1.746455 0.74078-139.141957 76.431283-1.643269 1.139662c-26.537186 18.437884-36.675557 54.579032-23.584845 84.062398 0.115506 0.264895 11.579891 26.725075 11.579891 50.634877 0 73.126262-59.491899 132.618162-132.618162 132.618162l-4.581749 0c-0.318797-0.00616-0.636055-0.01078-0.951772-0.01078-25.260456 0-45.672728 21.618157-52.002472 55.0811-0.462025 2.453354-11.313456 60.622322-11.313456 106.117939 0 45.494078 10.85143 103.659965 11.314996 106.119479 6.334365 33.458322 26.758957 55.076479 52.036353 55.076479 0.320337 0 0.651455-0.00616 0.842426-0.012321l4.655674 0c73.126262 0 132.618162 59.491899 132.618162 132.616622 0 23.760413-11.444363 50.333021-11.546009 50.565574-13.093793 29.474125-3.041666 65.646075 23.395414 84.151722l1.569346 1.093459 131.838879 73.726895 1.675611 0.7377c8.750757 3.84251 18.305437 5.790715 28.397607 5.790715 21.082208 0 41.676209-8.706094 55.0888-23.290689 18.724339-20.347588 69.527086-62.362616 107.04815-62.362616 40.625872 0 92.72537 47.100385 107.759669 63.583903 13.441852 14.831008 34.176001 23.689571 55.470741 23.695731l0.00616 0c9.895039 0 19.27877-1.883523 27.893999-5.598205l1.711034-0.73924 136.659342-75.531873 1.617088-1.128882c26.492523-18.456365 36.601633-54.600594 23.538642-84.016195-0.115506-0.267974-11.595291-27.082374-11.595291-50.67646 0-73.124722 59.49344-132.616622 132.618162-132.616622l4.517066-0.00154c0.300316 0.00616 0.599092 0.009241 0.899409 0.009241 25.331299-0.00154 45.785153-21.619697 52.107197-55.054918 0.112426-0.589852 11.325776-59.507301 11.325776-106.14104C1083.464388 466.640776 1072.609877 408.67356 1072.147851 406.226367zM377.486862 945.656142l-115.32764-64.487932c5.082277-13.052211 15.437801-43.51815 15.437801-75.017486 0-109.382917-84.176364-199.816642-192.587488-208.134635-2.647404-15.427021-8.873963-54.967133-8.873963-85.667166 0-30.65691 6.223479-70.232445 8.869343-85.671786 108.415744-8.311832 192.592108-98.745557 192.592108-208.134635 0-31.416171-10.300081-61.797405-15.371577-74.854236l122.721583-67.40331c0.003081 0 0.00462 0.00154 0.007701 0.00154 4.423121 4.518606 22.121764 22.080182 46.558275 39.493911 39.929754 28.46229 77.952885 42.894416 113.014434 42.894416 34.716571 0 72.437845-14.151831 112.115025-42.06431 24.282503-17.07953 41.896442-34.302288 46.308782-38.74543 0.009241-0.00154 0.018481-0.00462 0.026182-0.00616l118.301542 65.726159c-5.077657 13.055291-15.416239 43.499669-15.416239 74.958962 0 109.389077 84.174824 199.822802 192.590568 208.134635 2.645865 15.462442 8.872423 55.107281 8.872423 85.671786 0 30.687711-6.223479 70.241685-8.869343 85.673326C890.042174 606.334084 805.86427 696.767809 805.86427 806.158426c0 31.450053 10.317022 61.851309 15.393138 74.903519l-119.783103 66.198965c-5.168521-5.490399-22.603811-23.363073-46.740005-41.288109-40.701336-30.224145-79.662378-45.549521-115.800446-45.549521-35.79155 0-74.458435 15.038919-114.927219 44.694774C400.22004 922.554885 382.666163 940.255068 377.486862 945.656142zM731.271848 511.646647c0-105.803762-86.081448-191.88059-191.888289-191.88059-105.803762 0-191.88059 86.076827-191.88059 191.88059 0 105.803762 86.076827 191.882129 191.88059 191.882129C645.19194 703.528777 731.271848 617.450409 731.271848 511.646647zM539.383558 395.903184c63.825696 0 115.751164 51.922387 115.751164 115.743463 0 63.825696-51.925468 115.751164-115.751164 115.751164-63.821076 0-115.743463-51.925468-115.743463-115.751164C423.640095 447.824031 475.562482 395.903184 539.383558 395.903184z"
                    fill="#272636" p-id="1423"></path>
            </svg></button>
        <h1>方位抽取器</h1>

        <div class="draw-section" style="margin-top: -10px;">
            <button class="draw-button" onclick="drawAll()">🎲抽取并复制</button>
        </div>

        <div class="result-container" id="resultContainer">
            <div class="result-item" id="modeResultItem">
                <div class="result-label">模式:</div>
                <div class="result-value mode-result" id="modeResult">-</div>
                <button class="redraw-button" id="drawModeBtn" onclick="drawMode()" style="display: none;"><svg
                        class="icon"
                        style="width: 1em;height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;"
                        viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="784">
                        <path
                            d="M218.39878 92.602343c-47.599734 33.299814-88.899503 74.299585-122.799314 121.799319C27.499846 309.70113-6.099966 426.300479 0.999994 542.599829c1.499992 25.09986 23.099871 44.199753 48.199731 42.699762s44.199753-23.099871 42.699762-48.199731C79.799554 338.000972 211.098821 156.401986 404.197742 105.202272c147.999173-39.199781 303.698304 4.899973 408.897716 112.699371l-70.999603 38.199786 220.698767 136.399239 7.899956-259.298552-74.699583 40.199775C837.595321 107.202261 763.195737 57.30254 679.196206 28.102703 582.896744-5.197111 479.79732-8.99709 380.897872 17.202764c-58.599673 15.499913-113.299367 40.899772-162.499092 75.399579zM53.299702 890.797884l74.699583-40.099776c58.399674 66.19963 132.799258 116.099351 216.798789 145.199189 96.299462 33.299814 199.398886 37.099793 298.298334 10.899939 38.499785-10.199943 75.299579-24.599863 109.999385-43.099759 18.099899-9.599946 35.599801-20.399886 52.499707-32.19982 47.599734-33.299814 88.799504-74.199586 122.699315-121.599321 68.09962-95.199468 101.799431-211.698817 94.79947-327.898168-1.499992-25.09986-23.099871-44.199753-48.199731-42.699762s-44.199753 23.099871-42.699761 48.199731C943.994727 686.199027 812.595461 867.598014 619.796538 918.797728c-147.999173 39.199781-303.698304-4.899973-408.897716-112.699371l70.999603-38.199786L61.199658 631.499332l-7.899956 259.298552z"
                            p-id="785"></path>
                    </svg></button>
            </div>
            <div class="result-item">
                <div class="result-label">类型方位:</div>
                <div class="result-value direction-result" id="directionResult">-</div>
                <button class="redraw-button" id="drawDirectionBtn" onclick="drawDirection()"><svg class="icon"
                        style="width: 1em;height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;"
                        viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="784">
                        <path
                            d="M218.39878 92.602343c-47.599734 33.299814-88.899503 74.299585-122.799314 121.799319C27.499846 309.70113-6.099966 426.300479 0.999994 542.599829c1.499992 25.09986 23.099871 44.199753 48.199731 42.699762s44.199753-23.099871 42.699762-48.199731C79.799554 338.000972 211.098821 156.401986 404.197742 105.202272c147.999173-39.199781 303.698304 4.899973 408.897716 112.699371l-70.999603 38.199786 220.698767 136.399239 7.899956-259.298552-74.699583 40.199775C837.595321 107.202261 763.195737 57.30254 679.196206 28.102703 582.896744-5.197111 479.79732-8.99709 380.897872 17.202764c-58.599673 15.499913-113.299367 40.899772-162.499092 75.399579zM53.299702 890.797884l74.699583-40.099776c58.399674 66.19963 132.799258 116.099351 216.798789 145.199189 96.299462 33.299814 199.398886 37.099793 298.298334 10.899939 38.499785-10.199943 75.299579-24.599863 109.999385-43.099759 18.099899-9.599946 35.599801-20.399886 52.499707-32.19982 47.599734-33.299814 88.799504-74.199586 122.699315-121.599321 68.09962-95.199468 101.799431-211.698817 94.79947-327.898168-1.499992-25.09986-23.099871-44.199753-48.199731-42.699762s-44.199753 23.099871-42.699761 48.199731C943.994727 686.199027 812.595461 867.598014 619.796538 918.797728c-147.999173 39.199781-303.698304-4.899973-408.897716-112.699371l70.999603-38.199786L61.199658 631.499332l-7.899956 259.298552z"
                            p-id="785"></path>
                    </svg></button>
            </div>
            <div class="result-item" id="pointResultItem">
                <div class="result-label">点位:</div>
                <div class="result-value point-result" id="pointResult">-</div>
                <button class="redraw-button" id="drawPointBtn" onclick="drawPoint()" style="display: none;"><svg
                        class="icon"
                        style="width: 1em;height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;"
                        viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="784">
                        <path
                            d="M218.39878 92.602343c-47.599734 33.299814-88.899503 74.299585-122.799314 121.799319C27.499846 309.70113-6.099966 426.300479 0.999994 542.599829c1.499992 25.09986 23.099871 44.199753 48.199731 42.699762s44.199753-23.099871 42.699762-48.199731C79.799554 338.000972 211.098821 156.401986 404.197742 105.202272c147.999173-39.199781 303.698304 4.899973 408.897716 112.699371l-70.999603 38.199786 220.698767 136.399239 7.899956-259.298552-74.699583 40.199775C837.595321 107.202261 763.195737 57.30254 679.196206 28.102703 582.896744-5.197111 479.79732-8.99709 380.897872 17.202764c-58.599673 15.499913-113.299367 40.899772-162.499092 75.399579zM53.299702 890.797884l74.699583-40.099776c58.399674 66.19963 132.799258 116.099351 216.798789 145.199189 96.299462 33.299814 199.398886 37.099793 298.298334 10.899939 38.499785-10.199943 75.299579-24.599863 109.999385-43.099759 18.099899-9.599946 35.599801-20.399886 52.499707-32.19982 47.599734-33.299814 88.799504-74.199586 122.699315-121.599321 68.09962-95.199468 101.799431-211.698817 94.79947-327.898168-1.499992-25.09986-23.099871-44.199753-48.199731-42.699762s-44.199753 23.099871-42.699761 48.199731C943.994727 686.199027 812.595461 867.598014 619.796538 918.797728c-147.999173 39.199781-303.698304-4.899973-408.897716-112.699371l70.999603-38.199786L61.199658 631.499332l-7.899956 259.298552z"
                            p-id="785"></path>
                    </svg></button>
            </div>
        </div>

        <div class="copy-section" id="copySection" style="display: none;">
            <div class="copy-text" id="copyText">-</div>
            <button class="copy-button" id="copyButton" onclick="copyResult()">📋 复制结果</button>
        </div>


        <!-- 自定义模式编辑弹窗 -->
        <div class="modal-overlay" id="customModeModal" style="display: none;">
            <div class="modal-content settings-modal">
                <div class="modal-header">
                    <h3 id="customModeModalTitle">添加自定义模式</h3>
                    <button class="modal-close" onclick="hideCustomModeModal()">✕</button>
                </div>
                <div class="modal-body">
                    <!-- 模式名称 -->
                    <div class="settings-card">
                        <div class="settings-card-main" style="flex-direction: column; align-items: stretch;">
                            <div class="modal-label" style="margin-bottom: 8px;">模式名称</div>
                            <input type="text" id="customModeNameInput" placeholder="输入自定义模式名称" style="width: 100%;">
                        </div>
                    </div>

                    <!-- 详情类型选择 -->
                    <div class="settings-card">
                        <div class="settings-card-main">
                            <div class="settings-card-info">
                                <div class="settings-card-title">详情类型</div>
                                <div class="settings-card-desc">选择模式详情的生成方式</div>
                            </div>
                        </div>
                        <div class="detail-type-selector">
                            <label class="detail-type-option">
                                <input type="radio" name="detailType" value="text" checked>
                                <span class="detail-type-label">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14 2 14 8 20 8"></polyline>
                                        <line x1="16" y1="13" x2="8" y2="13"></line>
                                        <line x1="16" y1="17" x2="8" y2="17"></line>
                                    </svg>
                                    <span>固定文本</span>
                                </span>
                            </label>
                            <label class="detail-type-option">
                                <input type="radio" name="detailType" value="random">
                                <span class="detail-type-label">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <rect x="2" y="2" width="20" height="20" rx="3" ry="3"></rect>
                                        <circle cx="8" cy="8" r="1.5" fill="currentColor" stroke="none"></circle>
                                        <circle cx="16" cy="8" r="1.5" fill="currentColor" stroke="none"></circle>
                                        <circle cx="8" cy="16" r="1.5" fill="currentColor" stroke="none"></circle>
                                        <circle cx="16" cy="16" r="1.5" fill="currentColor" stroke="none"></circle>
                                        <circle cx="12" cy="12" r="1.5" fill="currentColor" stroke="none"></circle>
                                    </svg>
                                    <span>随机抽取</span>
                                </span>
                            </label>
                        </div>
                    </div>

                    <!-- 固定文本输入 -->
                    <div class="settings-card" id="fixedTextSection">
                        <div class="settings-card-main" style="flex-direction: column; align-items: stretch;">
                            <div class="modal-label" style="margin-bottom: 8px;">固定文本内容</div>
                            <input type="text" id="customModeText" placeholder="输入固定的模式描述" style="width: 100%;">
                        </div>
                    </div>

                    <!-- 随机抽取元素 -->
                    <div class="settings-card" id="randomElementsSection" style="display: none;">
                        <div class="settings-card-main" style="flex-direction: column; align-items: stretch;">
                            <div class="modal-label" style="margin-bottom: 4px;">抽取元素</div>
                            <div class="sub-setting-hint" style="margin-bottom: 8px;">每次抽取时会从这些元素中随机选择一个</div>
                            <div id="randomElementsList" class="random-elements-list"></div>
                            <button type="button" class="add-element-btn" onclick="addRandomElement()">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="12" y1="8" x2="12" y2="16"></line>
                                    <line x1="8" y1="12" x2="16" y2="12"></line>
                                </svg>
                                添加元素
                            </button>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="modal-button modal-button-danger" id="deleteCustomModeBtn"
                        onclick="deleteCustomMode()" style="display: none;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                            </path>
                        </svg>
                        删除
                    </button>
                    <button class="modal-button" onclick="hideCustomModeModal()">取消</button>
                    <button class="modal-button modal-button-primary" onclick="saveCustomMode()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        保存
                    </button>
                </div>
            </div>
        </div>

        <!-- 设置弹窗 -->
        <div class="modal-overlay" id="settingsModal" style="display: none;">
            <div class="modal-content settings-modal">
                <div class="modal-header">
                    <h3>设置</h3>
                    <button class="modal-close" onclick="hideSettingsModal()">✕</button>
                </div>
                <div class="modal-body">
                    <!-- 查看规则说明 - 卡片 -->
                    <div class="settings-card rules-card">
                        <div class="settings-card-main" onclick="toggleRulesExpand()">
                            <div class="settings-card-info">
                                <div class="settings-card-title">抽取规则说明</div>
                                <div class="settings-card-desc">点击展开或收起规则说明</div>
                            </div>
                            <span class="expand-arrow" id="rulesExpandArrow">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </span>
                        </div>
                        <div class="settings-card-expand" id="rulesExpand">
                            <div class="expand-inner rules-content-inner">
                                <p><strong>模式类型：</strong>（关闭模式详情抽取后只随机抽取模式标题）</p>
                                <ul>
                                    <li><strong>克隆：</strong>随机选择一个玩家作为克隆对象</li>
                                    <li><strong>交换：</strong>随机抽取交换关系，有<math>
                                            <mfrac>
                                                <mn>6859</mn>
                                                <mn>40000</mn>
                                            </mfrac>
                                        </math>概率任选交换</li>
                                    <li><strong>惊喜：</strong>随机禁用某个技能或装备</li>
                                    <li><strong>观众：</strong>随机将玩家分配到观众或参战组</li>
                                    <li><strong>巨史：</strong>从7个元素中随机选择3个</li>
                                    <li><strong>普通：</strong>无特殊附加内容的模式</li>
                                    <li><strong>自定义：</strong>用户添加的模式和描述</li>
                                </ul>
                                <p><strong>类型方位：</strong></p>
                                <ul>
                                    <li><strong>类型：</strong>等级、命座、攻击、生命、防御、精通</li>
                                    <li><strong>方位：</strong>上、下、左、右、左上、左下、右上、右下</li>
                                </ul>
                                <p><strong>点位：</strong>设定的范围内随机抽取</p>
                                <p><strong>快捷键：</strong>空格(全部抽取) / Ctrl+C(复制结果)</p>
                            </div>
                        </div>
                    </div>

                    <!-- 启用模式抽取 - 卡片 -->
                    <div class="settings-card" id="modeSettingsCard">
                        <div class="settings-card-main">
                            <div class="settings-card-info">
                                <div class="settings-card-title">启用模式抽取</div>
                                <div class="settings-card-desc">开启后可抽取游戏模式</div>
                            </div>
                            <div style="display: flex; align-items: center;">
                                <span class="expand-arrow" id="modeSettingsArrow"
                                    onclick="toggleSettingsExpand('modeSettingsExpand', 'modeSettingsArrow')"
                                    style="margin-right: 12px;">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <polyline points="6 9 12 15 18 9"></polyline>
                                    </svg>
                                </span>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enableMode">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                        <!-- 二级设置：模式选择 -->
                        <div class="settings-card-expand" id="modeSettingsExpand">
                            <div class="expand-inner">
                                <!-- 抽取模式详情开关 -->
                                <div class="sub-setting-row">
                                    <span class="sub-setting-label">抽取模式详情</span>
                                    <label class="toggle-switch toggle-switch-sm">
                                        <input type="checkbox" id="enableModeDetail" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                <div class="sub-setting-hint">关闭后只显示模式名称，不显示详情内容</div>

                                <div class="mode-select-title">可选模式</div>
                                <div class="mode-options-list">
                                    <div class="mode-option-card">
                                        <div class="mode-option-info">
                                            <div class="mode-option-title">克隆</div>
                                            <div class="mode-option-desc">随机选择一个玩家作为克隆对象</div>
                                        </div>
                                        <label class="toggle-switch toggle-switch-sm">
                                            <input type="checkbox" id="modeClone" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                    <div class="mode-option-card">
                                        <div class="mode-option-info">
                                            <div class="mode-option-title">交换</div>
                                            <div class="mode-option-desc">随机抽取交换关系，有概率任选交换</div>
                                        </div>
                                        <label class="toggle-switch toggle-switch-sm">
                                            <input type="checkbox" id="modeSwap" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                    <div class="mode-option-card">
                                        <div class="mode-option-info">
                                            <div class="mode-option-title">惊喜</div>
                                            <div class="mode-option-desc">随机禁用某个技能或装备</div>
                                        </div>
                                        <label class="toggle-switch toggle-switch-sm">
                                            <input type="checkbox" id="modeSurprise" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                    <div class="mode-option-card">
                                        <div class="mode-option-info">
                                            <div class="mode-option-title">观众</div>
                                            <div class="mode-option-desc">随机将玩家分配到观众或参战组</div>
                                        </div>
                                        <label class="toggle-switch toggle-switch-sm">
                                            <input type="checkbox" id="modeAudience" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                    <div class="mode-option-card">
                                        <div class="mode-option-info">
                                            <div class="mode-option-title">巨史</div>
                                            <div class="mode-option-desc">从7个元素中随机选择3个</div>
                                        </div>
                                        <label class="toggle-switch toggle-switch-sm">
                                            <input type="checkbox" id="modeJushi" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                    <div class="mode-option-card">
                                        <div class="mode-option-info">
                                            <div class="mode-option-title">普通</div>
                                            <div class="mode-option-desc">无特殊附加内容的模式</div>
                                        </div>
                                        <label class="toggle-switch toggle-switch-sm">
                                            <input type="checkbox" id="modeNormal" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                    <!-- 自定义模式会动态插入这里 -->
                                    <div id="customModesContainer"></div>
                                    <!-- 添加自定义模式入口 -->
                                    <div class="mode-option-card add-mode-card" onclick="showAddCustomModeModal()">
                                        <div class="add-mode-icon">
                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                stroke="currentColor" stroke-width="2">
                                                <circle cx="12" cy="12" r="10"></circle>
                                                <line x1="12" y1="8" x2="12" y2="16"></line>
                                                <line x1="8" y1="12" x2="16" y2="12"></line>
                                            </svg>
                                        </div>
                                        <span class="add-mode-text">添加自定义模式</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 启用点位抽取 - 卡片 -->
                    <div class="settings-card" id="pointSettingsCard">
                        <div class="settings-card-main">
                            <div class="settings-card-info">
                                <div class="settings-card-title">启用点位抽取</div>
                                <div class="settings-card-desc">开启后可抽取点数</div>
                            </div>
                            <div style="display: flex; align-items: center;">
                                <span class="expand-arrow" id="pointSettingsArrow"
                                    onclick="toggleSettingsExpand('pointSettingsExpand', 'pointSettingsArrow')"
                                    style="margin-right: 12px;">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <polyline points="6 9 12 15 18 9"></polyline>
                                    </svg>
                                </span>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enablePoint" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                        <!-- 二级设置：点数范围 -->
                        <div class="settings-card-expand" id="pointSettingsExpand">
                            <div class="expand-inner">
                                <div class="point-range-row">
                                    <label class="point-range-item">
                                        <span>最小值</span>
                                        <input type="number" id="pointMin" min="1" max="999" value="1">
                                    </label>
                                    <span class="point-range-sep">~</span>
                                    <label class="point-range-item">
                                        <span>最大值</span>
                                        <input type="number" id="pointMax" min="1" max="999" value="6">
                                    </label>
                                </div>
                                <div class="sub-setting-hint" style="text-align: center;">设置抽取点数的范围</div>
                            </div>
                        </div>
                    </div>

                    <!-- 主题外观 - 卡片 -->
                    <div class="settings-card" id="themeSettingsCard">
                        <div class="settings-card-main" style="flex-direction: column; align-items: stretch;">
                            <div class="settings-card-info" style="margin-bottom: 12px;">
                                <div class="settings-card-title">主题外观</div>
                                <div class="settings-card-desc">选择界面的显示风格</div>
                            </div>
                            <div class="detail-type-selector theme-selector">
                                <label class="detail-type-option theme-option">
                                    <input type="radio" name="theme" value="light">
                                    <span class="detail-type-label theme-label">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                            stroke-linejoin="round">
                                            <circle cx="12" cy="12" r="5"></circle>
                                            <line x1="12" y1="1" x2="12" y2="3"></line>
                                            <line x1="12" y1="21" x2="12" y2="23"></line>
                                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                                            <line x1="1" y1="12" x2="3" y2="12"></line>
                                            <line x1="21" y1="12" x2="23" y2="12"></line>
                                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                                        </svg>
                                        <span>浅色</span>
                                    </span>
                                </label>
                                <label class="detail-type-option theme-option">
                                    <input type="radio" name="theme" value="dark">
                                    <span class="detail-type-label theme-label">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                            stroke-linejoin="round">
                                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                                        </svg>
                                        <span>深色</span>
                                    </span>
                                </label>
                                <label class="detail-type-option theme-option">
                                    <input type="radio" name="theme" value="system" checked>
                                    <span class="detail-type-label theme-label">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                            stroke-linejoin="round">
                                            <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                                            <line x1="8" y1="21" x2="16" y2="21"></line>
                                            <line x1="12" y1="17" x2="12" y2="21"></line>
                                        </svg>
                                        <span>跟随系统</span>
                                    </span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>

</html>