# 📚 详细指南

深入了解每个功能的具体操作方法

## 🎭 角色抽取系统

### BP模式详解

#### 全局BP模式
- **机制说明**：所有玩家共享已使用角色列表，一旦被抽中的角色，其他玩家无法再次抽到
- **适用场景**：希望严格避免角色重复的游戏
- **特点**：保证每个角色在整个游戏中只被使用一次

#### 个人BP模式  
- **机制说明**：每个玩家独立维护已使用角色列表，不同玩家可以抽到相同角色
- **适用场景**：允许多个玩家使用相同角色，但个人不重复
- **特点**：平衡了避重复和灵活性

#### 关闭BP模式
- **机制说明**：不限制角色重复，完全随机抽取
- **适用场景**：完全随机的游戏体验
- **特点**：最大的随机性和不可预测性

### 屏蔽机制

> **重要功能**: 若使用点击角色卡片重抽，则重抽前的角色会视为"该玩家无此角色"，对应玩家以后都不会抽到"没有的角色"

#### 工作原理
1. 玩家点击角色卡片进行重抽
2. 系统记录被重抽的角色为"该玩家无此角色"
3. 该玩家后续抽取时不会再获得这个角色
4. 其他玩家不受影响（个人BP模式下）

#### 使用场景
- 玩家确定不想要某个角色
- 想要避免特定角色再次出现
- 自定义角色池的需求

### 角色抽取流程

#### 标准抽取流程
1. **初始化**：系统加载所有启用的角色
2. **权重计算**：根据BP规则计算可用角色
3. **随机选择**：从可用角色池中随机选择4个
4. **结果展示**：显示抽取结果并触发动画效果
5. **状态更新**：更新BP状态和历史记录

#### 重抽流程
1. **选择重抽**：点击特定角色卡片
2. **状态记录**：记录原角色为屏蔽状态
3. **重新抽取**：从剩余可用角色中随机选择
4. **结果更新**：更新显示和游戏状态

## 📋 事件系统

### 个人事件

#### 事件抽取机制
- **数量**：每次抽取4个个人事件
- **来源**：从启用的个人事件池中随机选择
- **显示**：在主界面的4个事件卡片中展示

#### 重抽次数系统
- **初始次数**：默认3次重抽机会
- **调整方式**：可通过 +/- 按钮调整
- **使用规则**：每次点击"抽取事件"消耗重抽次数
- **概率机制**：有5%概率获得额外重抽次数（±1）

#### 动态内容事件
某些事件包含动态内容，如"方位车？给我干哪来了？"事件：
- **AA选项**：等级、命座、攻击、生命、防御、精通
- **BB选项**：上、下、左、右、左上、左下、右上、右下
- **机制**：每次抽取时随机组合AA和BB选项

### 团队事件

#### 投票机制
1. **事件生成**：系统随机选择3个团队事件
2. **投票展示**：所有玩家可以看到候选事件
3. **投票过程**：玩家点击选择心仪的事件
4. **结果统计**：系统统计投票结果
5. **事件确定**：得票最多的事件成为本轮团队事件

#### 多人同步
- **实时更新**：所有玩家的投票状态实时同步
- **结果显示**：投票结果对所有玩家可见
- **状态统一**：确保所有玩家看到相同的团队事件

## ⚙️ 设置系统详解

### 角色管理

#### 角色启用/禁用
1. **访问方式**：设置 → 角色管理
2. **操作方法**：勾选/取消勾选角色名称前的复选框
3. **即时生效**：设置立即对后续抽取生效
4. **状态保存**：设置自动保存到本地存储

#### 角色筛选
- **按元素筛选**：火、水、风、雷、草、冰、岩
- **按武器筛选**：单手剑、双手剑、长枪、法器、弓箭
- **按稀有度筛选**：4星、5星角色
- **组合筛选**：支持多条件同时筛选

#### 角色搜索
- **实时搜索**：输入角色名称实时过滤
- **模糊匹配**：支持部分名称匹配
- **快速定位**：快速找到特定角色

### 事件管理

#### 个人事件管理
1. **访问方式**：设置 → 事件管理 → 个人事件表格
2. **启用控制**：通过复选框启用/禁用特定事件
3. **内容预览**：可查看事件的具体内容
4. **批量操作**：支持全选/全不选操作

#### 团队事件管理
1. **访问方式**：设置 → 事件管理 → 团队事件表格
2. **管理方式**：与个人事件管理相同
3. **投票影响**：只有启用的事件才会出现在投票选项中

#### 事件历史记录
- **历史查看**：设置 → 事件历史记录
- **记录内容**：每轮抽取的事件详情
- **时间戳**：记录具体的抽取时间
- **数据持久化**：历史记录保存在本地

### 游戏设置

#### 事件抽取开关
- **个人事件开关**：控制是否抽取个人事件
- **团队事件开关**：控制是否抽取团队事件
- **联动效果**：
  - 关闭个人事件：隐藏4个事件卡片和重抽次数
  - 关闭团队事件：不进行团队事件抽取
  - 全部关闭：隐藏所有事件相关界面

#### 重置功能
- **重置游戏**：清除所有游戏状态和历史记录
- **确认机制**：操作前需要确认，防止误操作
- **数据清理**：包括BP状态、历史记录、角色状态等

## 🌐 多人游戏详解

### 房间系统

#### 房间创建
1. **服务器连接**：首次连接可能需要1-30秒
2. **房间分配**：系统自动分配4位数字房间代码
3. **代码分享**：通过复制按钮快速分享房间代码

#### 房间管理
- **主持人权限**：只有主持人可以进行某些操作
- **玩家列表**：实时显示房间内所有玩家
- **状态同步**：所有玩家的游戏状态实时同步

### 同步机制

#### 角色抽取同步
- **抽取结果**：所有玩家看到相同的抽取结果
- **BP状态**：BP规则在所有玩家间同步
- **重抽操作**：个人重抽不影响其他玩家

#### 事件抽取同步
- **个人事件**：每个玩家看到相同的个人事件
- **团队事件**：投票过程和结果对所有玩家可见
- **历史记录**：事件历史在所有玩家间同步

### 网络处理

#### 连接稳定性
- **断线重连**：支持自动重连机制
- **状态恢复**：重连后自动恢复游戏状态
- **错误处理**：网络错误时的友好提示

#### 性能优化
- **数据压缩**：减少网络传输数据量
- **增量更新**：只同步变化的数据
- **缓存机制**：减少重复数据传输

## 🎮 高级功能

### 团队模式

#### 功能概述
- **阵容管理**：创建和管理不同的角色阵容
- **阵容切换**：在不同阵容间快速切换
- **成员配置**：为每个阵容配置特定成员

#### 使用方法
1. **开启团队模式**：设置 → 更多玩法设置
2. **创建阵容**：点击"添加新阵容"
3. **配置成员**：为阵容添加4个成员
4. **应用阵容**：选择要使用的阵容

### 方位抽取器

#### 功能说明
- **独立工具**：与主游戏分离的辅助工具
- **方位生成**：随机生成游戏中需要的方位信息
- **快速访问**：通过设置菜单快速打开

## 💡 使用技巧

### 游戏体验优化

#### 设备选择
- **PC端**：推荐主持游戏，功能完整，操作便捷
- **移动端**：适合参与游戏，响应式设计保证体验

#### 网络环境
- **稳定网络**：确保网络连接稳定，避免游戏中断
- **多人游戏**：主持人网络稳定性尤为重要

### 自定义配置

#### 角色池配置
- **根据游戏需求**：启用/禁用特定角色
- **平衡性考虑**：合理配置角色池保证游戏平衡
- **版本更新**：及时更新角色配置

#### 事件池配置
- **难度调整**：根据玩家水平调整事件难度
- **趣味性平衡**：在挑战性和娱乐性间找到平衡
- **主题活动**：针对特定主题配置事件池

---

通过掌握这些详细功能，你将能够充分利用系统的各项特性，创造出最适合你和朋友们的游戏体验！ 🎉
